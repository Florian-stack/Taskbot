const _0x352195=_0xfd63;(function(_0x190e15,_0x1054d7){const _0x3ee912=_0xfd63,_0x4f7b0f=_0x190e15();while(!![]){try{const _0x49ef70=parseInt(_0x3ee912(0x228))/0x1*(parseInt(_0x3ee912(0x221))/0x2)+parseInt(_0x3ee912(0x2a7))/0x3+parseInt(_0x3ee912(0x2c5))/0x4+parseInt(_0x3ee912(0x1e9))/0x5*(-parseInt(_0x3ee912(0x210))/0x6)+parseInt(_0x3ee912(0x204))/0x7+-parseInt(_0x3ee912(0x291))/0x8*(-parseInt(_0x3ee912(0x2bd))/0x9)+-parseInt(_0x3ee912(0x294))/0xa;if(_0x49ef70===_0x1054d7)break;else _0x4f7b0f['push'](_0x4f7b0f['shift']());}catch(_0x3932a8){_0x4f7b0f['push'](_0x4f7b0f['shift']());}}}(_0x4f33,0xc94cd));function _0x4f33(){const _0x4867b9=['cache','Console','9KHgqpQ','🔴\x20High','\x20?\x20','title','Error\x20loading\x20tasks:','📥\x20Offen:\x20','applicationGuildCommands','ready','4440040JiehnK','Description','setRequired','Startup\x20error:','getDate','priority','roles','Task\x20ID','edit_task','Saved\x20','Aktualisiert:\x20','\x20tasks','🟡\x20Medium','guildId','./config.js','\x0aAssigned:\x20','@discordjs/rest','35napFQo','level','Logged\x20in\x20as\x20','🔄\x20Status\x20updated\x20#','deferReply','Error\x20saving\x20tasks:','Success','setDate','user','permissions','entries','put','notified','has','Keine','floor','**\x0a','match','join','Abgeschlossen','Creator','status_In\x20Bearbeitung_','exit','❌\x20Keine\x20Berechtigung','now','timestamp','Dashboard\x20updated','1490615GAsytw','catch','values','toString','some','addUserOption','✅\x20Abgeschlossen:\x20','Button\x20update','setColor','Assigned:\x20<@','setLabel','**#','351012QdfshP','from','writeFileSync','Guilds','delete_task','getUser','ceil','tasks.json','forEach','List\x20all\x20tasks','0\x209\x20*\x20*\x20*','member','Logging\x20error:','tasks','Prioritäten','tag','Notified\x20','785258ATEvnf','sort','token','assign_to','New\x20status','winston','description','2rncLnb','Command\x20error\x20','embeds','Error\x20notifying\x20task\x20','editReply','allowedRoleIds','Invalid\x20day\x20format','DM\x20update\x20failed\x20for\x20','Task','Assigned','??\x20Live\x20Task\x20Dashboard','parse','Open','logChannelId','send','map','?\x20Task\x20not\x20found!','Task\x20created','🟢\x20Low','spliceFields','Letzte\x20Aktivität','Neue\x20Priorität','\x20gelöscht','setName','addStringOption','setFooter','warn','deadline','setStyle','Commands\x20registered','Updated\x20by','cron','setCustomId','?\x20An\x20error\x20occurred!','addFields','channels','keys','setTimestamp','addComponents','status_Offen_','setDescription','Assign\x20to\x20user','test','DM\x20failed\x20for\x20','\x20Tagen!','isCommand','Europe/Berlin','reply','edit','Login\x20error:','task_id','includes','getTime','Deadline\x20(YYYY-MM-DD\x20oder\x20\x22in\x207\x20Tagen\x22)','Offen','customId','dashboardChannelId','Fällig\x20in\x20','Task\x20priority','\x20for\x20task\x20','setTitle','In\x20Progress','status','transports','Primary','GuildMessages','update_status','```','Hoch','message','✅\x20Task\x20#','getString','split','task','Status:\x20','length','Command\x20error','path','readFileSync','createdAt','New\x20Deadline','⏰\x20**Deadline-Erinnerung**\x0a','update','error','<t:','📊\x20Live\x20Task\x20Dashboard','toISOString','creator','Keine\x20Deadline','emoji','\x20created','Niedrig',']:\x20','find','de-DE','Mittel','setToken','printf','Neuer\x20Titel','Dashboard\x20update\x20error:','❌\x20Task\x20existiert\x20nicht','ADMINISTRATOR','📋\x20New\x20Task\x20#','Deadline\x20parse\x20error:','Status','11767192JuqWxL','addIntegerOption','❌\x20Task\x20#','27281140iMbmDB','Title','\x20Hoch:\x20','assignedTo','Created:\x20<t:','users','username','🛠\x20In\x20Bearbeitung:\x20','Neue\x20zugewiesene\x20Person','format','interactionCreate','Previous\x20Status','bot.log','Priority','📋\x20All\x20Tasks','**\x0a```','Deadline','New\x20Status','addChoices','1149123XmwZCr','Undefined','...','clientId','File','info','existsSync','\x20-\x20','setAuthor','📝\x20',':R>','Checking\x20deadlines...','toJSON','updatedAt','getInteger','Administrator',')\x20wurde\x20gelöscht','status_Abgeschlossen_','fetch','Lösche\x20eine\x20Aufgabe'];_0x4f33=function(){return _0x4867b9;};return _0x4f33();}const {Client,GatewayIntentBits,EmbedBuilder,SlashCommandBuilder,Routes,ActionRowBuilder,ButtonBuilder,ButtonStyle,ComponentType,Constants}=require('discord.js'),{REST}=require(_0x352195(0x1e8)),fs=require('fs'),path=require(_0x352195(0x275)),winston=require(_0x352195(0x226)),{CronJob}=require(_0x352195(0x247)),config=require(_0x352195(0x1e6)),TOKEN=config[_0x352195(0x223)],CLIENT_ID=config[_0x352195(0x2aa)],GUILD_ID=config[_0x352195(0x1e5)],LOG_CHANNEL_ID=config[_0x352195(0x235)],DASHBOARD_CHANNEL_ID=config[_0x352195(0x260)],ALLOWED_ROLE_IDS=config[_0x352195(0x22d)],logger=winston['createLogger']({'level':_0x352195(0x2ac),'format':winston[_0x352195(0x29d)]['combine'](winston[_0x352195(0x29d)][_0x352195(0x202)]({'format':'YYYY-MM-DD\x20HH:mm:ss'}),winston[_0x352195(0x29d)][_0x352195(0x289)](_0x57ff21=>_0x57ff21[_0x352195(0x202)]+'\x20['+_0x57ff21[_0x352195(0x1ea)]['toUpperCase']()+_0x352195(0x284)+_0x57ff21[_0x352195(0x26d)])),'transports':[new winston[(_0x352195(0x267))][(_0x352195(0x2ab))]({'filename':_0x352195(0x2a0)}),new winston[(_0x352195(0x267))][(_0x352195(0x2bc))]()]}),client=new Client({'intents':[GatewayIntentBits[_0x352195(0x213)],GatewayIntentBits['GuildMembers'],GatewayIntentBits[_0x352195(0x269)],GatewayIntentBits['MessageContent'],GatewayIntentBits['DirectMessages']]});function _0xfd63(_0xb36845,_0x5ce421){const _0x4f3381=_0x4f33();return _0xfd63=function(_0xfd6357,_0x226141){_0xfd6357=_0xfd6357-0x1db;let _0x46abac=_0x4f3381[_0xfd6357];return _0x46abac;},_0xfd63(_0xb36845,_0x5ce421);}let tasks={},dashboardMessage=null;const TASKS_FILE=path[_0x352195(0x1fb)](__dirname,_0x352195(0x217)),TASK_STATUS_COLORS={'Offen':0xff0000,'In\x20Bearbeitung':0xffff00,'Abgeschlossen':0xff00},TASK_PRIORITIES={'Hoch':{'emoji':'🔴','color':0xff0000},'Mittel':{'emoji':'🟡','color':0xffd700},'Niedrig':{'emoji':'🟢','color':0xff00}};function loadTasks(){const _0x207f9b=_0x352195;try{fs[_0x207f9b(0x2ad)](TASKS_FILE)&&(tasks=JSON[_0x207f9b(0x233)](fs[_0x207f9b(0x276)](TASKS_FILE)),logger[_0x207f9b(0x2ac)]('Loaded\x20'+Object['keys'](tasks)['length']+_0x207f9b(0x1e3)));}catch(_0x205ee6){logger[_0x207f9b(0x27b)](_0x207f9b(0x2c1),_0x205ee6),tasks={};}}function formatDeadline(_0x561c38){const _0x245615=_0x352195;return _0x561c38['deadline']?_0x245615(0x27c)+Math['floor'](new Date(_0x561c38['deadline'])[_0x245615(0x25c)]()/0x3e8)+':R>':_0x245615(0x280);}function getTaskColor(_0x1e40d3){const _0x2017b2=_0x352195,_0x4f7782=_0x1e40d3[_0x2017b2(0x243)]&&new Date(_0x1e40d3[_0x2017b2(0x243)])<new Date()&&_0x1e40d3[_0x2017b2(0x266)]!==_0x2017b2(0x1fc);return _0x4f7782?0xff0000:TASK_STATUS_COLORS[_0x1e40d3[_0x2017b2(0x266)]];}function checkEditPermissions(_0x34ab88,_0x4a2cf4,_0x11ca46){const _0x1ae227=_0x352195,_0x397398=_0x11ca46[_0x1ae227(0x21b)][_0x1ae227(0x1de)]['cache']['some'](_0x12219e=>ALLOWED_ROLE_IDS[_0x1ae227(0x25b)](_0x12219e['id']));return _0x34ab88['id']===_0x4a2cf4['creator']||_0x34ab88['id']===_0x4a2cf4['assignedTo']||_0x11ca46[_0x1ae227(0x21b)][_0x1ae227(0x1f2)][_0x1ae227(0x1f6)](_0x1ae227(0x28d))||_0x397398;}function checkDeletePermissions(_0x5339f9,_0x387133,_0x216eaa){const _0x301cf1=_0x352195,_0x3814cb=_0x216eaa[_0x301cf1(0x21b)][_0x301cf1(0x1de)][_0x301cf1(0x2bb)]['some'](_0x1c737e=>ALLOWED_ROLE_IDS[_0x301cf1(0x25b)](_0x1c737e['id']));return _0x5339f9['id']===_0x387133[_0x301cf1(0x27f)]||_0x216eaa[_0x301cf1(0x21b)]['permissions'][_0x301cf1(0x1f6)]('ADMINISTRATOR')||_0x3814cb;}function parseDeadline(_0x5eeda5){const _0x95705a=_0x352195;if(!_0x5eeda5)return null;try{if(/^\d{4}-\d{2}-\d{2}$/[_0x95705a(0x252)](_0x5eeda5)){const _0x3a504d=new Date(_0x5eeda5);if(isNaN(_0x3a504d))throw new Error('Invalid\x20date\x20format');return _0x3a504d['toISOString']();}const _0x1cdd8f=_0x5eeda5[_0x95705a(0x1fa)](/\d+/);if(!_0x1cdd8f)throw new Error(_0x95705a(0x22e));const _0x2b9d38=parseInt(_0x1cdd8f[0x0]),_0x193c89=new Date();return _0x193c89[_0x95705a(0x1f0)](_0x193c89[_0x95705a(0x1dc)]()+_0x2b9d38),_0x193c89['toISOString']();}catch(_0x5d9178){return logger[_0x95705a(0x27b)](_0x95705a(0x28f),_0x5d9178),null;}}function saveTasks(){const _0x1e6b9f=_0x352195;try{fs[_0x1e6b9f(0x212)](TASKS_FILE,JSON['stringify'](tasks,null,0x2)),logger[_0x1e6b9f(0x2ac)](_0x1e6b9f(0x1e1)+Object['keys'](tasks)['length']+_0x1e6b9f(0x1e3));}catch(_0x5cd1b1){logger[_0x1e6b9f(0x27b)](_0x1e6b9f(0x1ee),_0x5cd1b1);}}async function initializeDashboard(){const _0x247079=_0x352195;try{const _0x4cce8f=await client[_0x247079(0x24b)][_0x247079(0x2b9)](DASHBOARD_CHANNEL_ID),_0x486e00=await _0x4cce8f['messages'][_0x247079(0x2b9)]({'limit':0xa});dashboardMessage=_0x486e00[_0x247079(0x285)](_0x49fe51=>_0x49fe51[_0x247079(0x22a)]['length']>0x0&&_0x49fe51['embeds'][0x0]['title']===_0x247079(0x232));if(!dashboardMessage){const _0x1fa11c=createDashboardEmbed();dashboardMessage=await _0x4cce8f['send']({'embeds':[_0x1fa11c]}),logger[_0x247079(0x2ac)]('Created\x20new\x20dashboard');}return dashboardMessage;}catch(_0x4d6af2){logger['error']('Dashboard\x20init\x20error:',_0x4d6af2);}}async function updateDashboard(){const _0x22ec41=_0x352195;try{if(!dashboardMessage)await initializeDashboard();const _0x1d4d4d=createDashboardEmbed();await dashboardMessage[_0x22ec41(0x258)]({'embeds':[_0x1d4d4d]}),logger['debug'](_0x22ec41(0x203));}catch(_0x7fa9cd){logger[_0x22ec41(0x27b)](_0x22ec41(0x28b),_0x7fa9cd);}}function createDashboardEmbed(){const _0x286e23=_0x352195,_0x50c755=new EmbedBuilder()[_0x286e23(0x264)](_0x286e23(0x27d))[_0x286e23(0x20c)](0x99ff)['setTimestamp'](),_0x4b625b={'Offen':0x0,'In\x20Bearbeitung':0x0,'Abgeschlossen':0x0},_0x16ea5b={'Hoch':0x0,'Mittel':0x0,'Niedrig':0x0};return Object[_0x286e23(0x24c)](tasks)[_0x286e23(0x273)]===0x0?_0x50c755[_0x286e23(0x250)]('Keine\x20aktiven\x20Aufgaben'):(Object[_0x286e23(0x206)](tasks)['forEach'](_0x10a670=>{const _0x6ecdf0=_0x286e23;_0x4b625b[_0x10a670[_0x6ecdf0(0x266)]]++,_0x16ea5b[_0x10a670['priority']]++;}),_0x50c755[_0x286e23(0x24a)]({'name':_0x286e23(0x21e),'value':[TASK_PRIORITIES[_0x286e23(0x26c)][_0x286e23(0x281)]+_0x286e23(0x296)+_0x16ea5b[_0x286e23(0x26c)],TASK_PRIORITIES[_0x286e23(0x287)][_0x286e23(0x281)]+'\x20Mittel:\x20'+_0x16ea5b[_0x286e23(0x287)],TASK_PRIORITIES[_0x286e23(0x283)][_0x286e23(0x281)]+'\x20Niedrig:\x20'+_0x16ea5b[_0x286e23(0x283)]][_0x286e23(0x1fb)]('\x0a'),'inline':!![]},{'name':'Status','value':[_0x286e23(0x2c2)+_0x4b625b[_0x286e23(0x25e)],_0x286e23(0x29b)+_0x4b625b['In\x20Bearbeitung'],_0x286e23(0x20a)+_0x4b625b[_0x286e23(0x1fc)]][_0x286e23(0x1fb)]('\x0a'),'inline':!![]},{'name':_0x286e23(0x23c),'value':Object[_0x286e23(0x206)](tasks)[_0x286e23(0x273)]>0x0?_0x286e23(0x27c)+Math[_0x286e23(0x1f8)](new Date(Object[_0x286e23(0x206)](tasks)[_0x286e23(0x222)]((_0x22dde0,_0x49a807)=>new Date(_0x49a807['updatedAt']||_0x49a807['createdAt'])-new Date(_0x22dde0[_0x286e23(0x2b4)]||_0x22dde0[_0x286e23(0x277)]))[0x0][_0x286e23(0x2b4)])[_0x286e23(0x25c)]()/0x3e8)+_0x286e23(0x2b1):_0x286e23(0x1f7),'inline':!![]}),_0x50c755[_0x286e23(0x241)]({'text':_0x286e23(0x1e2)+new Date()['toLocaleTimeString'](_0x286e23(0x286))})),_0x50c755;}async function logAction(_0x356293,_0x1eecdf,_0x45a63e){const _0x3b1210=_0x352195;try{const _0x57d9b1=await client[_0x3b1210(0x24b)][_0x3b1210(0x2b9)](LOG_CHANNEL_ID),_0x1bc68a=new EmbedBuilder()[_0x3b1210(0x20c)](0x2f3136)[_0x3b1210(0x2af)]({'name':_0x356293[_0x3b1210(0x21f)],'iconURL':_0x356293['displayAvatarURL']()})[_0x3b1210(0x264)](_0x3b1210(0x2b0)+_0x1eecdf)[_0x3b1210(0x250)](_0x45a63e)[_0x3b1210(0x24d)]();await _0x57d9b1[_0x3b1210(0x236)]({'embeds':[_0x1bc68a]});}catch(_0x4d0cc0){logger[_0x3b1210(0x27b)](_0x3b1210(0x21c),_0x4d0cc0);}}const commands=[new SlashCommandBuilder()[_0x352195(0x23f)](_0x352195(0x271))[_0x352195(0x250)]('Create\x20new\x20task')[_0x352195(0x240)](_0x5afd25=>_0x5afd25[_0x352195(0x23f)](_0x352195(0x2c0))[_0x352195(0x250)]('Task\x20title')[_0x352195(0x2c7)](!![]))[_0x352195(0x240)](_0x2e7613=>_0x2e7613[_0x352195(0x23f)](_0x352195(0x227))['setDescription']('Task\x20description')['setRequired'](!![]))[_0x352195(0x209)](_0x24da3e=>_0x24da3e[_0x352195(0x23f)](_0x352195(0x224))[_0x352195(0x250)](_0x352195(0x251))['setRequired'](!![]))[_0x352195(0x240)](_0x42b87a=>_0x42b87a['setName']('priority')[_0x352195(0x250)](_0x352195(0x262))[_0x352195(0x2c7)](!![])['addChoices']({'name':'🔴\x20High','value':_0x352195(0x26c)},{'name':_0x352195(0x1e4),'value':'Mittel'},{'name':_0x352195(0x23a),'value':'Niedrig'}))['addStringOption'](_0x2a4692=>_0x2a4692[_0x352195(0x23f)](_0x352195(0x243))[_0x352195(0x250)](_0x352195(0x25d))[_0x352195(0x2c7)](!![])),new SlashCommandBuilder()[_0x352195(0x23f)](_0x352195(0x1e0))['setDescription']('Bearbeite\x20eine\x20existierende\x20Aufgabe')['addIntegerOption'](_0x478fe9=>_0x478fe9['setName'](_0x352195(0x25a))[_0x352195(0x250)](_0x352195(0x1df))[_0x352195(0x2c7)](!![]))[_0x352195(0x240)](_0x27ac66=>_0x27ac66['setName'](_0x352195(0x2c0))[_0x352195(0x250)](_0x352195(0x28a)))[_0x352195(0x240)](_0x224089=>_0x224089['setName'](_0x352195(0x227))[_0x352195(0x250)]('Neue\x20Beschreibung'))[_0x352195(0x209)](_0x591131=>_0x591131[_0x352195(0x23f)]('assign_to')[_0x352195(0x250)](_0x352195(0x29c)))[_0x352195(0x240)](_0x31049d=>_0x31049d[_0x352195(0x23f)](_0x352195(0x1dd))['setDescription'](_0x352195(0x23d))[_0x352195(0x2a6)]({'name':_0x352195(0x2be),'value':'Hoch'},{'name':_0x352195(0x1e4),'value':_0x352195(0x287)},{'name':_0x352195(0x23a),'value':_0x352195(0x283)}))['addStringOption'](_0x3c59fd=>_0x3c59fd[_0x352195(0x23f)](_0x352195(0x243))[_0x352195(0x250)]('Neues\x20Deadline\x20(YYYY-MM-DD)')),new SlashCommandBuilder()[_0x352195(0x23f)](_0x352195(0x214))['setDescription'](_0x352195(0x2ba))['addIntegerOption'](_0x318724=>_0x318724['setName'](_0x352195(0x25a))[_0x352195(0x250)]('Task\x20ID')[_0x352195(0x2c7)](!![])),new SlashCommandBuilder()['setName'](_0x352195(0x21d))[_0x352195(0x250)](_0x352195(0x219)),new SlashCommandBuilder()[_0x352195(0x23f)]('update_status')[_0x352195(0x250)]('Update\x20task\x20status')[_0x352195(0x292)](_0x54964d=>_0x54964d['setName']('task_id')[_0x352195(0x250)](_0x352195(0x1df))[_0x352195(0x2c7)](!![]))[_0x352195(0x240)](_0x375ed4=>_0x375ed4[_0x352195(0x23f)]('status')[_0x352195(0x250)](_0x352195(0x225))[_0x352195(0x2c7)](!![])[_0x352195(0x2a6)]({'name':_0x352195(0x234),'value':'Offen'},{'name':_0x352195(0x265),'value':'In\x20Bearbeitung'},{'name':'Completed','value':_0x352195(0x1fc)}))][_0x352195(0x237)](_0x3d2f68=>_0x3d2f68[_0x352195(0x2b3)]());client['on'](_0x352195(0x2c4),async()=>{const _0x1ebc84=_0x352195;logger['info'](_0x1ebc84(0x1eb)+client[_0x1ebc84(0x1f1)][_0x1ebc84(0x21f)]),loadTasks();try{const _0x10ff45=new REST({'version':'10'})[_0x1ebc84(0x288)](TOKEN);await _0x10ff45[_0x1ebc84(0x1f4)](Routes[_0x1ebc84(0x2c3)](CLIENT_ID,GUILD_ID),{'body':commands}),logger[_0x1ebc84(0x2ac)](_0x1ebc84(0x245)),await initializeDashboard(),setInterval(updateDashboard,0x493e0);}catch(_0x524164){logger[_0x1ebc84(0x27b)](_0x1ebc84(0x1db),_0x524164);}}),client['on'](_0x352195(0x29e),async _0x22cbe7=>{const _0x3af23d=_0x352195;if(_0x22cbe7['isButton']())return handleButtonInteraction(_0x22cbe7);if(!_0x22cbe7[_0x3af23d(0x255)]())return;const {commandName:_0x23d0f2,options:_0x54cf5c,user:_0x14a827}=_0x22cbe7;try{await _0x22cbe7[_0x3af23d(0x1ed)]({'ephemeral':!![]});if(!_0x22cbe7[_0x3af23d(0x21b)][_0x3af23d(0x1f2)][_0x3af23d(0x1f6)](_0x3af23d(0x28d))&&!_0x22cbe7[_0x3af23d(0x21b)]['roles'][_0x3af23d(0x2bb)][_0x3af23d(0x208)](_0x56036a=>ALLOWED_ROLE_IDS[_0x3af23d(0x25b)](_0x56036a['id']))&&_0x23d0f2!==_0x3af23d(0x21d))return _0x22cbe7['editReply']({'content':'⛔\x20No\x20permission!'});switch(_0x23d0f2){case'task':{const _0x1421ba=_0x54cf5c['getString'](_0x3af23d(0x2c0)),_0x388b6b=_0x54cf5c['getString'](_0x3af23d(0x227)),_0x42e28a=_0x54cf5c['getUser'](_0x3af23d(0x224)),_0xfa63bf=_0x54cf5c[_0x3af23d(0x26f)]('priority'),_0x5e5632=Date[_0x3af23d(0x201)]()[_0x3af23d(0x207)]();tasks[_0x5e5632]={'title':_0x1421ba,'description':_0x388b6b,'status':_0x3af23d(0x25e),'priority':_0xfa63bf,'creator':_0x14a827['id'],'assignedTo':_0x42e28a['id'],'createdAt':new Date()['toISOString'](),'updatedAt':new Date()['toISOString'](),'deadline':parseDeadline(_0x54cf5c['getString'](_0x3af23d(0x243))),'notified':![]},saveTasks();try{const _0x28d362=new EmbedBuilder()['setTitle'](_0x3af23d(0x28e)+_0x5e5632)[_0x3af23d(0x20c)](getTaskColor(tasks[_0x5e5632]))[_0x3af23d(0x24a)]({'name':_0x3af23d(0x295),'value':_0x1421ba},{'name':_0x3af23d(0x2c6),'value':_0x388b6b},{'name':_0x3af23d(0x2a1),'value':TASK_PRIORITIES[_0xfa63bf][_0x3af23d(0x281)]+'\x20'+_0xfa63bf,'inline':!![]},{'name':_0x3af23d(0x290),'value':_0x3af23d(0x25e),'inline':!![]},{'name':_0x3af23d(0x2a4),'value':formatDeadline(tasks[_0x5e5632]),'inline':!![]},{'name':_0x3af23d(0x1fd),'value':_0x14a827[_0x3af23d(0x29a)],'inline':!![]}),_0x21a597=new ActionRowBuilder()[_0x3af23d(0x24e)](new ButtonBuilder()['setCustomId'](_0x3af23d(0x24f)+_0x5e5632)[_0x3af23d(0x20e)](_0x3af23d(0x234))[_0x3af23d(0x244)](ButtonStyle['Danger']),new ButtonBuilder()[_0x3af23d(0x248)](_0x3af23d(0x1fe)+_0x5e5632)[_0x3af23d(0x20e)](_0x3af23d(0x265))[_0x3af23d(0x244)](ButtonStyle[_0x3af23d(0x268)]),new ButtonBuilder()[_0x3af23d(0x248)](_0x3af23d(0x2b8)+_0x5e5632)[_0x3af23d(0x20e)]('Complete')[_0x3af23d(0x244)](ButtonStyle[_0x3af23d(0x1ef)]));await _0x42e28a[_0x3af23d(0x236)]({'embeds':[_0x28d362],'components':[_0x21a597]});}catch(_0x3b6d38){logger[_0x3af23d(0x242)](_0x3af23d(0x253)+_0x42e28a[_0x3af23d(0x21f)]+':',_0x3b6d38);}const _0x558b6b=new EmbedBuilder()[_0x3af23d(0x264)](_0x3af23d(0x26e)+_0x5e5632+_0x3af23d(0x282))['setColor'](0xff00)[_0x3af23d(0x24a)]({'name':'Title','value':_0x1421ba},{'name':_0x3af23d(0x231),'value':_0x42e28a['toString']()},{'name':'Priority','value':TASK_PRIORITIES[_0xfa63bf][_0x3af23d(0x281)]+'\x20'+_0xfa63bf},{'name':_0x3af23d(0x278),'value':formatDeadline(tasks[_0x5e5632])});await _0x22cbe7[_0x3af23d(0x22c)]({'embeds':[_0x558b6b]}),await logAction(_0x14a827,_0x3af23d(0x239),_0x3af23d(0x20f)+_0x5e5632+'**\x20-\x20'+_0x1421ba+_0x3af23d(0x1e7)+_0x42e28a[_0x3af23d(0x21f)]),await updateDashboard();break;}function _0x2472fb(_0x223d3e){const _0x1fd60d=_0x3af23d;if(!_0x223d3e)return Infinity;const _0x198ae8=new Date(_0x223d3e)-new Date();return Math[_0x1fd60d(0x216)](_0x198ae8/(0x3e8*0x3c*0x3c*0x18));}new CronJob(_0x3af23d(0x21a),async()=>{const _0x12cbb0=_0x3af23d;logger[_0x12cbb0(0x2ac)](_0x12cbb0(0x2b2));try{const _0x3ca6ed=new Date();Object[_0x12cbb0(0x1f3)](tasks)[_0x12cbb0(0x218)](async([_0x5693ee,_0x5b86f8])=>{const _0x5d9c40=_0x12cbb0;try{if(_0x5b86f8['deadline']&&_0x5b86f8[_0x5d9c40(0x266)]!==_0x5d9c40(0x1fc)&&!_0x5b86f8[_0x5d9c40(0x1f5)]&&_0x2472fb(_0x5b86f8[_0x5d9c40(0x243)])<=0x2){const _0x41b716=await client[_0x5d9c40(0x299)][_0x5d9c40(0x2b9)](_0x5b86f8[_0x5d9c40(0x297)]);await _0x41b716[_0x5d9c40(0x236)](_0x5d9c40(0x279)+('Task\x20#'+_0x5693ee+'\x20\x22'+_0x5b86f8['title']+'\x22\x0a')+(_0x5d9c40(0x261)+_0x2472fb(_0x5b86f8[_0x5d9c40(0x243)])+_0x5d9c40(0x254))),_0x5b86f8['notified']=!![],logger[_0x5d9c40(0x2ac)](_0x5d9c40(0x220)+_0x41b716[_0x5d9c40(0x21f)]+_0x5d9c40(0x263)+_0x5693ee);}}catch(_0x2b2396){logger[_0x5d9c40(0x27b)](_0x5d9c40(0x22b)+_0x5693ee+':',_0x2b2396);}}),saveTasks();}catch(_0x2f135c){logger['error']('Cron\x20job\x20error:',_0x2f135c);}},null,!![],_0x3af23d(0x256));case'tasks':{const _0x70aa37=new EmbedBuilder()['setTitle'](_0x3af23d(0x2a2))[_0x3af23d(0x20c)](0x99ff);Object[_0x3af23d(0x24c)](tasks)[_0x3af23d(0x273)]===0x0?_0x70aa37['setDescription']('No\x20tasks\x20available'):Object['entries'](tasks)[_0x3af23d(0x218)](([_0x37aa88,_0x134756])=>{const _0x5646ee=_0x3af23d,_0x4d250e=TASK_PRIORITIES[_0x134756[_0x5646ee(0x1dd)]]||{'emoji':'?','color':0x808080};_0x70aa37[_0x5646ee(0x24a)]({'name':'#'+_0x37aa88+_0x5646ee(0x2ae)+_0x134756[_0x5646ee(0x2c0)],'value':['Desc:\x20'+_0x134756[_0x5646ee(0x227)]['slice'](0x0,0x32)+_0x5646ee(0x2a9),_0x5646ee(0x272)+_0x134756[_0x5646ee(0x266)],'Priority:\x20'+_0x4d250e['emoji']+'\x20'+(_0x134756[_0x5646ee(0x1dd)]||_0x5646ee(0x2a8)),_0x5646ee(0x20d)+_0x134756[_0x5646ee(0x297)]+'>',_0x5646ee(0x298)+Math[_0x5646ee(0x1f8)](new Date(_0x134756['createdAt'])['getTime']()/0x3e8)+_0x5646ee(0x2b1),'Deadline:\x20'+formatDeadline(_0x134756)][_0x5646ee(0x1fb)]('\x0a')});});await _0x22cbe7[_0x3af23d(0x22c)]({'embeds':[_0x70aa37]});break;}case _0x3af23d(0x1e0):{const _0x2ca803=_0x54cf5c[_0x3af23d(0x2b5)](_0x3af23d(0x25a)),_0x2aead8=tasks[_0x2ca803],_0x27eac6={};if(!_0x2aead8)return _0x22cbe7[_0x3af23d(0x22c)](_0x3af23d(0x28c));if(!checkEditPermissions(_0x22cbe7[_0x3af23d(0x1f1)],_0x2aead8))return _0x22cbe7[_0x3af23d(0x22c)](_0x3af23d(0x200));_0x54cf5c[_0x3af23d(0x26f)](_0x3af23d(0x2c0))&&(_0x27eac6['title']=_0x54cf5c[_0x3af23d(0x26f)]('title'),_0x2aead8[_0x3af23d(0x2c0)]=_0x27eac6[_0x3af23d(0x2c0)]);_0x54cf5c['getString'](_0x3af23d(0x227))&&(_0x27eac6['description']=_0x54cf5c[_0x3af23d(0x26f)](_0x3af23d(0x227)),_0x2aead8[_0x3af23d(0x227)]=_0x27eac6['description']);_0x54cf5c[_0x3af23d(0x215)](_0x3af23d(0x224))&&(_0x27eac6['assignedTo']=_0x54cf5c[_0x3af23d(0x215)](_0x3af23d(0x224))['id'],_0x2aead8['assignedTo']=_0x27eac6[_0x3af23d(0x297)]);_0x54cf5c[_0x3af23d(0x26f)]('priority')&&(_0x27eac6[_0x3af23d(0x1dd)]=_0x54cf5c[_0x3af23d(0x26f)]('priority'),_0x2aead8['priority']=_0x27eac6[_0x3af23d(0x1dd)]);_0x54cf5c['getString']('deadline')&&(_0x27eac6[_0x3af23d(0x243)]=_0x54cf5c[_0x3af23d(0x26f)](_0x3af23d(0x243)),_0x2aead8[_0x3af23d(0x243)]=parseDeadline(_0x27eac6[_0x3af23d(0x243)]),_0x2aead8['notified']=![]);_0x2aead8[_0x3af23d(0x2b4)]=new Date()[_0x3af23d(0x27e)](),saveTasks(),await updateTaskMessage(_0x2ca803),await _0x22cbe7[_0x3af23d(0x22c)](_0x3af23d(0x26e)+_0x2ca803+'\x20aktualisiert'),await logAction(_0x14a827,'Task\x20edited','#'+_0x2ca803+'\x0a'+Object[_0x3af23d(0x24c)](_0x27eac6)[_0x3af23d(0x1fb)](',\x20'));break;}case _0x3af23d(0x214):{const _0x3f75e7=_0x54cf5c[_0x3af23d(0x2b5)](_0x3af23d(0x25a)),_0x346bbc=tasks[_0x3f75e7];if(!_0x346bbc)return _0x22cbe7['editReply'](_0x3af23d(0x28c));if(!checkDeletePermissions(_0x22cbe7['user'],_0x346bbc))return _0x22cbe7[_0x3af23d(0x22c)](_0x3af23d(0x200));const _0x50b097=await client[_0x3af23d(0x299)][_0x3af23d(0x2b9)](_0x346bbc['assignedTo']);await _0x50b097['send'](_0x3af23d(0x293)+_0x3f75e7+'\x20('+_0x346bbc[_0x3af23d(0x2c0)]+_0x3af23d(0x2b7)),delete tasks[_0x3f75e7],saveTasks(),await _0x22cbe7[_0x3af23d(0x22c)](_0x3af23d(0x26e)+_0x3f75e7+_0x3af23d(0x23e)),await logAction(_0x14a827,'Task\x20gelöscht','#'+_0x3f75e7+'\x20-\x20'+_0x346bbc[_0x3af23d(0x2c0)]);break;}case _0x3af23d(0x26a):{const _0x5cc02a=_0x54cf5c[_0x3af23d(0x2b5)]('task_id'),_0x37e487=_0x54cf5c[_0x3af23d(0x26f)]('status');if(!tasks[_0x5cc02a])return _0x22cbe7['editReply']({'content':'?\x20Task\x20not\x20found!'});const _0x50a1b5=tasks[_0x5cc02a],_0x2fdc4d=tasks[_0x5cc02a][_0x3af23d(0x266)];tasks[_0x5cc02a]['status']=_0x37e487,tasks[_0x5cc02a][_0x3af23d(0x2b4)]=new Date()[_0x3af23d(0x27e)](),saveTasks();const _0x5aea84=new EmbedBuilder()[_0x3af23d(0x264)](_0x3af23d(0x1ec)+_0x5cc02a)[_0x3af23d(0x20c)](TASK_STATUS_COLORS[_0x37e487])['addFields']({'name':_0x3af23d(0x230),'value':_0x50a1b5[_0x3af23d(0x2c0)]},{'name':_0x3af23d(0x2a5),'value':_0x37e487,'inline':!![]},{'name':'Deadline','value':formatDeadline(_0x50a1b5),'inline':!![]},{'name':_0x3af23d(0x29f),'value':_0x2fdc4d,'inline':!![]});await _0x22cbe7[_0x3af23d(0x22c)]({'embeds':[_0x5aea84]}),await logAction(_0x14a827,'Status\x20changed',_0x3af23d(0x20f)+_0x5cc02a+_0x3af23d(0x1f9)+_0x2fdc4d+_0x3af23d(0x2bf)+_0x37e487),await updateDashboard();break;}}}catch(_0x130ea1){logger[_0x3af23d(0x27b)](_0x3af23d(0x229)+_0x23d0f2+':',_0x130ea1),await _0x22cbe7[_0x3af23d(0x22c)]({'content':_0x3af23d(0x249)}),await logAction(_0x14a827,_0x3af23d(0x274),'**'+_0x23d0f2+_0x3af23d(0x2a3)+_0x130ea1['message']+_0x3af23d(0x26b));}});async function handleButtonInteraction(_0x3d6d9e){const _0x8f8675=_0x352195,[_0x1e338d,_0x2055bd,_0x5767f2]=_0x3d6d9e[_0x8f8675(0x25f)][_0x8f8675(0x270)]('_');if(!tasks[_0x5767f2])return _0x3d6d9e[_0x8f8675(0x257)]({'content':_0x8f8675(0x238),'ephemeral':!![]});const _0x5c1f0e=_0x3d6d9e[_0x8f8675(0x1f1)]['id']===tasks[_0x5767f2][_0x8f8675(0x297)],_0x314d12=_0x3d6d9e[_0x8f8675(0x21b)]&&_0x3d6d9e['member'][_0x8f8675(0x1f2)]&&_0x3d6d9e[_0x8f8675(0x21b)][_0x8f8675(0x1f2)][_0x8f8675(0x1f6)](_0x8f8675(0x2b6))||![];if(!_0x5c1f0e&&!_0x314d12)return _0x3d6d9e['reply']({'content':'⛔\x20No\x20permission!','ephemeral':!![]});const _0x2974e4=tasks[_0x5767f2][_0x8f8675(0x266)];tasks[_0x5767f2][_0x8f8675(0x266)]=_0x2055bd,tasks[_0x5767f2][_0x8f8675(0x2b4)]=new Date()[_0x8f8675(0x27e)](),saveTasks();const _0x4c4a36=await client[_0x8f8675(0x299)][_0x8f8675(0x2b9)](tasks[_0x5767f2]['assignedTo']);try{const _0x550cc5=new EmbedBuilder()[_0x8f8675(0x264)](_0x8f8675(0x1ec)+_0x5767f2)[_0x8f8675(0x20c)](TASK_STATUS_COLORS[_0x2055bd])[_0x8f8675(0x24a)]({'name':_0x8f8675(0x230),'value':tasks[_0x5767f2][_0x8f8675(0x2c0)]},{'name':'New\x20Status','value':_0x2055bd,'inline':!![]},{'name':_0x8f8675(0x29f),'value':_0x2974e4,'inline':!![]},{'name':_0x8f8675(0x246),'value':_0x3d6d9e[_0x8f8675(0x1f1)][_0x8f8675(0x21f)],'inline':!![]})[_0x8f8675(0x24d)]();await _0x4c4a36[_0x8f8675(0x236)]({'embeds':[_0x550cc5]});}catch(_0x365016){logger[_0x8f8675(0x242)](_0x8f8675(0x22f)+_0x4c4a36[_0x8f8675(0x21f)]+':',_0x365016);}const _0x1b9552=EmbedBuilder[_0x8f8675(0x211)](_0x3d6d9e[_0x8f8675(0x26d)][_0x8f8675(0x22a)][0x0])[_0x8f8675(0x23b)](0x3,0x1,{'name':'Status','value':_0x2055bd,'inline':!![]})[_0x8f8675(0x20c)](TASK_STATUS_COLORS[_0x2055bd]);await _0x3d6d9e[_0x8f8675(0x27a)]({'embeds':[_0x1b9552],'components':_0x3d6d9e[_0x8f8675(0x26d)]['components']}),await logAction(_0x3d6d9e[_0x8f8675(0x1f1)],_0x8f8675(0x20b),'**#'+_0x5767f2+_0x8f8675(0x1f9)+_0x2974e4+'\x20?\x20'+_0x2055bd),await updateDashboard();}client['login'](TOKEN)[_0x352195(0x205)](_0x33e035=>{const _0x1e43ad=_0x352195;logger[_0x1e43ad(0x27b)](_0x1e43ad(0x259),_0x33e035),process[_0x1e43ad(0x1ff)](0x1);});